package com.c16.n3.service.impl;

import org.springframework.beans.factory.annotation.Autowired;

import com.c16.n3.core.repository.PessoaRepository;

public class PessoaServiceImpl {
	@Autowireded
	private PessoaRepository pessoaRepository;

	@Override
	public List<Usuario> findAllPessoas() {
		return this.pessoaRepository.findAll();
	}

	@Override
	public Usuario savePessoa(Pessoa pessoa) {
		if (usuario.getId() != null) {
			Optional<Usuario> usuarioBanco = this.usuarioRepository.findById(usuario.getId());
			if (usuarioBanco.isPresent()) {
				usuario.setVersion(usuarioBanco.get().getVersion());
				usuario.setPassword(usuarioBanco.get().getPassword());
			}
		}

		return this.usuarioRepository.save(usuario);
	}
}
